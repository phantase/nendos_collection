Options +FollowSymlinks
RewriteEngine On

# IMAGES
## WARNING, need to check why we need to add the path of the application...
RewriteCond %{DOCUMENT_ROOT}/images/nendos/$1/$2.jpg -f
RewriteRule ^images/nendos/(.*)/([0-9]+).jpg$    images/nendos/$1/$2.jpg [L]
RewriteRule ^images/nendos/(.*)/([0-9]+).jpg$    images/unknown.png [L]

# LOGIN
RewriteRule ^loginandout$                         index.php?action=loginandout [L]

# SERVICES
RewriteRule ^services/box/add$                    index.php?action=add_box [L]
RewriteRule ^services/nendoroid/add$              index.php?action=add_nendoroid [L]
RewriteRule ^services/face/add$                   index.php?action=add_face [L]
RewriteRule ^services/hair/add$                   index.php?action=add_hair [L]
RewriteRule ^services/hand/add$                   index.php?action=add_hand [L]
RewriteRule ^services/bodypart/add$               index.php?action=add_bodypart [L]
RewriteRule ^services/accessory/add$               index.php?action=add_accessory [L]
RewriteRule ^services/(box|nendoroid|face|hair|hand|bodypart|accessory)/([0-9]+)/picupload$     index.php?action=picupload&part=$1&internalid=$2 [L]

# EDIT
RewriteRule ^box/add$                                                 index.php?action=edit_box&target=add [L]
RewriteRule ^box/(.*)_([0-9]+)/addnendoroid$                          index.php?action=edit_nendoroid&target=add&box_id=$2 [L]
RewriteRule ^addnendoroid$                                            index.php?action=edit_nendoroid&target=add [L]
RewriteRule ^box/(.*)_([0-9]+)/nendoroid/(.*)_([0-9]+)/addface$       index.php?action=edit_face&target=add&box_id=$2&nendoroid_id=$4 [L]
RewriteRule ^box/(.*)_([0-9]+)/addface$                               index.php?action=edit_face&target=add&box_id=$2 [L]
RewriteRule ^addface$                                                 index.php?action=edit_face&target=add [L]
RewriteRule ^box/(.*)_([0-9]+)/nendoroid/(.*)_([0-9]+)/addhair$       index.php?action=edit_hair&target=add&box_id=$2&nendoroid_id=$4 [L]
RewriteRule ^box/(.*)_([0-9]+)/addhair$                               index.php?action=edit_hair&target=add&box_id=$2 [L]
RewriteRule ^addhair$                                                 index.php?action=edit_hair&target=add [L]
RewriteRule ^box/(.*)_([0-9]+)/nendoroid/(.*)_([0-9]+)/addhand$       index.php?action=edit_hand&target=add&box_id=$2&nendoroid_id=$4 [L]
RewriteRule ^box/(.*)_([0-9]+)/addhand$                               index.php?action=edit_hand&target=add&box_id=$2 [L]
RewriteRule ^addhand$                                                 index.php?action=edit_hand&target=add [L]
RewriteRule ^box/(.*)_([0-9]+)/nendoroid/(.*)_([0-9]+)/addbodypart$   index.php?action=edit_bodypart&target=add&box_id=$2&nendoroid_id=$4 [L]
RewriteRule ^box/(.*)_([0-9]+)/addbodypart$                           index.php?action=edit_bodypart&target=add&box_id=$2 [L]
RewriteRule ^addbodypart$                                             index.php?action=edit_bodypart&target=add [L]
RewriteRule ^box/(.*)_([0-9]+)/nendoroid/(.*)_([0-9]+)/addaccessory$  index.php?action=edit_accessory&target=add&box_id=$2&nendoroid_id=$4 [L]
RewriteRule ^box/(.*)_([0-9]+)/addaccessory$                          index.php?action=edit_accessory&target=add&box_id=$2 [L]
RewriteRule ^addaccessory$                                            index.php?action=edit_accessory&target=add [L]

# HOME
RewriteRule ^home$                                index.php?action=home [L]
RewriteRule ^credits$                             index.php?action=credits [L]
# LISTINGS
RewriteRule ^boxes$                               index.php?action=boxes [L]
RewriteRule ^boxes/$                              index.php?action=boxes [L]
RewriteRule ^nendoroids$                          index.php?action=nendoroids [L]
RewriteRule ^nendoroids/$                         index.php?action=nendoroids [L]
RewriteRule ^faces$                               index.php?action=faces [L]
RewriteRule ^faces/$                              index.php?action=faces [L]
RewriteRule ^hairs$                               index.php?action=hairs [L]
RewriteRule ^hairs/$                              index.php?action=hairs [L]
RewriteRule ^hands$                               index.php?action=hands [L]
RewriteRule ^hands/$                              index.php?action=hands [L]
RewriteRule ^bodyparts$                           index.php?action=bodyparts [L]
RewriteRule ^bodyparts/$                          index.php?action=bodyparts [L]
RewriteRule ^accessories$                         index.php?action=accessories [L]
RewriteRule ^accessories/$                        index.php?action=accessories [L]
# SINGLE PAGES
RewriteRUle ^box/(.*)_([0-9]+)/$                  index.php?action=box&boxinternalid=$2 [L]
RewriteRule ^nendoroid/(.*)/(.*)_([0-9]+)/$       index.php?action=nendoroid&nendointernalid=$3 [L]
RewriteRule ^nendoroid/(.*)_([0-9]+)/$            index.php?action=nendoroid&nendointernalid=$2 [L]
RewriteRule ^face/([0-9]+)/$                      index.php?action=face&faceinternalid=$1 [L]
RewriteRule ^hair/([0-9]+)/$                      index.php?action=hair&hairinternalid=$1 [L]
RewriteRule ^hand/([0-9]+)/$                      index.php?action=hand&handinternalid=$1 [L]
RewriteRule ^bodypart/([0-9]+)/$                  index.php?action=bodypart&bodypartinternalid=$1 [L]
RewriteRule ^accessory/([0-9]+)/$                 index.php?action=accessory&accessoryinternalid=$1 [L]
